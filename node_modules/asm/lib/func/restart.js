var asm = require('../asm');

asm.restartServer = function() {
    return new Promise(function(resolve, reject) {
       asm.server.restart(function(err) {
           if (err) {
               console.log('[restartServer] An error occurred while restarting the server.'.red);
               reject('Error restarting server.');
           } else {
               var restartLoop = setInterval(function() {
                console.log('[restartServer] Server restarted successfully.'.green);
                resolve(null);
                clearInterval(restartLoop);
               }, 1000);
           }
       }); 
    });
};