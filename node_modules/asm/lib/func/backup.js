var asm = require('../asm'),
    path = require('path');

asm.backupServer = function() {
    return new Promise(function(resolve, reject) {
        asm.server.backups.source = path.join(asm.server.backups.source, "world");
        asm.server.backup(function(err) {
            if (err) {
                console.log("[backup] An error occurred while backing up this server.".red);
                reject('Error backing up server.');
            } else {
                console.log("[backup] Backup completed successfully.".green);
                resolve(null);
            }
        });
    });
}